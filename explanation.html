<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Snowflake Data Sensitivity Classification Visualization</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #0089D0 0%, #005587 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .header p {
            font-size: 1.1em;
            opacity: 0.95;
        }
        
        .tabs {
            display: flex;
            background: #f8f9fa;
            border-bottom: 3px solid #0089D0;
            overflow-x: auto;
        }
        
        .tab {
            padding: 20px 30px;
            cursor: pointer;
            background: transparent;
            border: none;
            font-size: 1em;
            font-weight: 600;
            color: #666;
            transition: all 0.3s ease;
            white-space: nowrap;
            position: relative;
        }
        
        .tab:hover {
            background: rgba(0, 137, 208, 0.1);
            color: #0089D0;
        }
        
        .tab.active {
            color: #0089D0;
            background: white;
        }
        
        .tab.active::after {
            content: '';
            position: absolute;
            bottom: -3px;
            left: 0;
            right: 0;
            height: 3px;
            background: #0089D0;
        }
        
        .content {
            padding: 30px;
            min-height: 600px;
        }
        
        .tab-content {
            display: none;
            animation: fadeIn 0.5s ease;
        }
        
        .tab-content.active {
            display: block;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .workflow-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 30px 0;
            flex-wrap: wrap;
            gap: 20px;
        }
        
        .workflow-step {
            flex: 1;
            min-width: 200px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
        }
        
        .workflow-step:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0,0,0,0.3);
        }
        
        .workflow-step.active {
            background: linear-gradient(135deg, #0089D0 0%, #005587 100%);
            transform: scale(1.05);
        }
        
        .workflow-step h3 {
            font-size: 1.3em;
            margin-bottom: 10px;
        }
        
        .workflow-step p {
            font-size: 0.95em;
            opacity: 0.95;
        }
        
        .arrow {
            font-size: 2em;
            color: #0089D0;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.2); }
        }
        
        .data-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            border-radius: 10px;
            overflow: hidden;
        }
        
        .data-table thead {
            background: linear-gradient(135deg, #0089D0 0%, #005587 100%);
            color: white;
        }
        
        .data-table th, .data-table td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid #e0e0e0;
        }
        
        .data-table tbody tr {
            transition: all 0.3s ease;
        }
        
        .data-table tbody tr:hover {
            background: #f0f8ff;
            transform: translateX(5px);
        }
        
        .sensitivity-badge {
            display: inline-block;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.85em;
            font-weight: 600;
            text-transform: uppercase;
        }
        
        .sensitivity-pii {
            background: #ff6b6b;
            color: white;
        }
        
        .sensitivity-phi {
            background: #ff9f40;
            color: white;
        }
        
        .sensitivity-financial {
            background: #4ecdc4;
            color: white;
        }
        
        .sensitivity-public {
            background: #95e1d3;
            color: #333;
        }
        
        .framework-box {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        }
        
        .framework-box h3 {
            color: #0089D0;
            margin-bottom: 15px;
            font-size: 1.5em;
        }
        
        .framework-item {
            background: white;
            padding: 15px;
            margin: 10px 0;
            border-radius: 10px;
            border-left: 5px solid #0089D0;
            transition: all 0.3s ease;
        }
        
        .framework-item:hover {
            transform: translateX(10px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .summary-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }
        
        .summary-card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            text-align: center;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            border-top: 5px solid;
        }
        
        .summary-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.15);
        }
        
        .summary-card.pii { border-color: #ff6b6b; }
        .summary-card.phi { border-color: #ff9f40; }
        .summary-card.financial { border-color: #4ecdc4; }
        .summary-card.public { border-color: #95e1d3; }
        
        .summary-card h4 {
            color: #666;
            margin-bottom: 10px;
            font-size: 1.1em;
        }
        
        .summary-card .count {
            font-size: 3em;
            font-weight: bold;
            margin: 10px 0;
        }
        
        .summary-card.pii .count { color: #ff6b6b; }
        .summary-card.phi .count { color: #ff9f40; }
        .summary-card.financial .count { color: #4ecdc4; }
        .summary-card.public .count { color: #95e1d3; }
        
        .code-block {
            background: #2d3748;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            line-height: 1.6;
            box-shadow: 0 5px 20px rgba(0,0,0,0.2);
        }
        
        .code-block .keyword {
            color: #ed64a6;
            font-weight: bold;
        }
        
        .code-block .string {
            color: #68d391;
        }
        
        .code-block .function {
            color: #4fc3f7;
        }
        
        .code-block .comment {
            color: #718096;
            font-style: italic;
        }
        
        .interactive-demo {
            background: #f7fafc;
            border-radius: 15px;
            padding: 30px;
            margin: 30px 0;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        }
        
        .interactive-demo h3 {
            color: #0089D0;
            margin-bottom: 20px;
            font-size: 1.5em;
        }
        
        .input-group {
            margin: 20px 0;
        }
        
        .input-group label {
            display: block;
            margin-bottom: 8px;
            color: #4a5568;
            font-weight: 600;
        }
        
        .input-group input,
        .input-group select {
            width: 100%;
            padding: 12px;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            font-size: 1em;
            transition: all 0.3s ease;
        }
        
        .input-group input:focus,
        .input-group select:focus {
            outline: none;
            border-color: #0089D0;
            box-shadow: 0 0 0 3px rgba(0, 137, 208, 0.1);
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #0089D0 0%, #005587 100%);
            color: white;
            padding: 12px 30px;
            border: none;
            border-radius: 8px;
            font-size: 1.1em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.3);
        }
        
        .result-box {
            background: white;
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
            border: 2px solid #e2e8f0;
            display: none;
        }
        
        .result-box.show {
            display: block;
            animation: slideIn 0.5s ease;
        }
        
        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid #f3f3f3;
            border-top: 3px solid #0089D0;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-left: 10px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>🔒 Snowflake Data Sensitivity Classification</h1>
            <p>Interactive visualization of AI-powered data classification workflow</p>
        </div>
        
        <div class="tabs">
            <button class="tab active" onclick="showTab('overview')">Overview</button>
            <button class="tab" onclick="showTab('extraction')">1. Schema Extraction</button>
            <button class="tab" onclick="showTab('classification')">2. Full Classification</button>
            <button class="tab" onclick="showTab('filtering')">3. Sensitive Data Filter</button>
            <button class="tab" onclick="showTab('summary')">4. Summary Reports</button>
            <button class="tab" onclick="showTab('interactive')">Interactive Demo</button>
        </div>
        
        <div class="content">
            <!-- Overview Tab -->
            <div id="overview" class="tab-content active">
                <h2>Complete Workflow Overview</h2>
                
                <div class="workflow-container">
                    <div class="workflow-step" onclick="highlightStep(this, 'step1')">
                        <h3>📊 Step 1</h3>
                        <p>Extract Schema Metadata</p>
                    </div>
                    <span class="arrow">→</span>
                    <div class="workflow-step" onclick="highlightStep(this, 'step2')">
                        <h3>🤖 Step 2</h3>
                        <p>Apply AI Classification</p>
                    </div>
                    <span class="arrow">→</span>
                    <div class="workflow-step" onclick="highlightStep(this, 'step3')">
                        <h3>🔍 Step 3</h3>
                        <p>Filter & Analyze</p>
                    </div>
                    <span class="arrow">→</span>
                    <div class="workflow-step" onclick="highlightStep(this, 'step4')">
                        <h3>📈 Step 4</h3>
                        <p>Generate Reports</p>
                    </div>
                </div>
                
                <div class="framework-box">
                    <h3>Data Sensitivity Framework</h3>
                    <div class="framework-item">
                        <strong style="color: #ff6b6b;">PII (Personal Identifiable Information):</strong>
                        <p>SSN, credit card numbers, bank accounts, email addresses, phone numbers, dates of birth, driver license numbers</p>
                    </div>
                    <div class="framework-item">
                        <strong style="color: #ff9f40;">PHI (Protected Health Information):</strong>
                        <p>Medical record numbers, health conditions, prescriptions, diagnoses, ICD-10 codes</p>
                    </div>
                    <div class="framework-item">
                        <strong style="color: #4ecdc4;">Financial Data:</strong>
                        <p>Salary, compensation, stock grants, account balances, revenue figures</p>
                    </div>
                    <div class="framework-item">
                        <strong style="color: #95e1d3;">Public Data:</strong>
                        <p>Company names, job titles, publicly available information, non-sensitive identifiers</p>
                    </div>
                </div>
                
                <div class="code-block">
                    <span class="comment">-- Initialize the sensitivity framework</span><br>
                    <span class="keyword">SET</span> sensitivity_framework = <span class="string">'PII includes: SSN, credit cards...'</span>;<br><br>
                    <span class="comment">-- Call the classification procedure</span><br>
                    <span class="keyword">CALL</span> <span class="function">GET_SCHEMA_DETAILS</span>(<span class="string">'DATABASE'</span>, <span class="string">'SCHEMA'</span>);<br><br>
                    <span class="comment">-- Apply AI classification</span><br>
                    <span class="keyword">SELECT</span> <span class="function">AI_CLASSIFY</span>(column_metadata, classification_categories)...
                </div>
            </div>
            
            <!-- Example 1: Schema Extraction -->
            <div id="extraction" class="tab-content">
                <h2>Example 1: Schema Metadata Extraction</h2>
                <p style="margin: 20px 0; color: #666;">The GET_SCHEMA_DETAILS procedure extracts comprehensive metadata from your database schema.</p>
                
                <div class="code-block">
                    <span class="keyword">CALL</span> <span class="function">GET_SCHEMA_DETAILS</span>(<span class="string">'DATABASE'</span>, <span class="string">'SCHEMA'</span>);
                </div>
                
                <h3 style="margin-top: 30px; color: #0089D0;">Sample Output:</h3>
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>Table Name</th>
                            <th>Column Name</th>
                            <th>Data Type</th>
                            <th>Nullable</th>
                            <th>Max Length</th>
                            <th>Position</th>
                            <th>Comment</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>CUSTOMERS</td>
                            <td>CUSTOMER_ID</td>
                            <td>NUMBER(38,0)</td>
                            <td>NO</td>
                            <td>-</td>
                            <td>1</td>
                            <td>Primary key</td>
                        </tr>
                        <tr>
                            <td>CUSTOMERS</td>
                            <td>SSN</td>
                            <td>VARCHAR(11)</td>
                            <td>YES</td>
                            <td>11</td>
                            <td>2</td>
                            <td>Social Security Number</td>
                        </tr>
                        <tr>
                            <td>CUSTOMERS</td>
                            <td>EMAIL</td>
                            <td>VARCHAR(255)</td>
                            <td>YES</td>
                            <td>255</td>
                            <td>3</td>
                            <td>Customer email</td>
                        </tr>
                        <tr>
                            <td>CUSTOMERS</td>
                            <td>SALARY</td>
                            <td>NUMBER(10,2)</td>
                            <td>YES</td>
                            <td>-</td>
                            <td>4</td>
                            <td>Annual salary</td>
                        </tr>
                        <tr>
                            <td>EMPLOYEES</td>
                            <td>EMPLOYEE_ID</td>
                            <td>NUMBER(38,0)</td>
                            <td>NO</td>
                            <td>-</td>
                            <td>1</td>
                            <td>Employee identifier</td>
                        </tr>
                        <tr>
                            <td>EMPLOYEES</td>
                            <td>MEDICAL_RECORD_NUM</td>
                            <td>VARCHAR(20)</td>
                            <td>YES</td>
                            <td>20</td>
                            <td>2</td>
                            <td>Medical record</td>
                        </tr>
                        <tr>
                            <td>EMPLOYEES</td>
                            <td>DIAGNOSIS_CODE</td>
                            <td>VARCHAR(10)</td>
                            <td>YES</td>
                            <td>10</td>
                            <td>3</td>
                            <td>ICD-10 code</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            
            <!-- Example 2: Full Classification -->
            <div id="classification" class="tab-content">
                <h2>Example 2: AI-Powered Classification</h2>
                <p style="margin: 20px 0; color: #666;">AI_CLASSIFY analyzes each column's metadata and applies sensitivity labels based on your framework.</p>
                
                <div class="code-block">
                    <span class="comment">-- Apply sensitivity classification to the stored procedure results</span><br>
                    <span class="comment">-- AI_CLASSIFY returns JSON: {"labels": ["classification_label"]}</span><br><br>
                    <span class="keyword">WITH</span> schema_metadata <span class="keyword">AS</span> (<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">SELECT</span> * <span class="keyword">FROM</span> <span class="function">TABLE</span>(<span class="function">GET_SCHEMA_DETAILS</span>(<span class="string">'EQUITY_INTEL_POC'</span>, <span class="string">'PROCESSED'</span>))<br>
                    )<br>
                    <span class="keyword">SELECT</span><br>
                    &nbsp;&nbsp;&nbsp;&nbsp;TABLE_NAME,<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;COLUMN_NAME,<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;DATA_TYPE,<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;COMMENT,<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;<span class="function">AI_CLASSIFY</span>(<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="function">CONCAT</span>(<span class="string">'Column name: '</span>, COLUMN_NAME,<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string">' Data type: '</span>, DATA_TYPE,<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string">' Comment: '</span>, <span class="function">COALESCE</span>(COMMENT, <span class="string">'No comment'</span>),<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string">' Context: '</span>, $sensitivity_framework),<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="function">PARSE_JSON</span>($classification_categories),<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string">'task_description'</span>: <span class="string">'Classify this database column based on the sensitivity framework provided'</span><br>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;) <span class="keyword">AS</span> classification_result,<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;classification_result:labels[0]::STRING <span class="keyword">AS</span> primary_classification<br>
                    <span class="keyword">FROM</span> schema_metadata<br>
                    <span class="keyword">ORDER BY</span> <br>
                    &nbsp;&nbsp;&nbsp;&nbsp;TABLE_NAME, <br>
                    &nbsp;&nbsp;&nbsp;&nbsp;ORDINAL_POSITION;
                </div>
                
                <h3 style="margin-top: 30px; color: #0089D0;">Classification Results:</h3>
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>Table Name</th>
                            <th>Column Name</th>
                            <th>Data Type</th>
                            <th>Comment</th>
                            <th>Classification</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>CUSTOMERS</td>
                            <td>CUSTOMER_ID</td>
                            <td>NUMBER(38,0)</td>
                            <td>Primary key</td>
                            <td><span class="sensitivity-badge sensitivity-public">PUBLIC</span></td>
                        </tr>
                        <tr>
                            <td>CUSTOMERS</td>
                            <td>SSN</td>
                            <td>VARCHAR(11)</td>
                            <td>Social Security Number</td>
                            <td><span class="sensitivity-badge sensitivity-pii">SENSITIVE_PII</span></td>
                        </tr>
                        <tr>
                            <td>CUSTOMERS</td>
                            <td>EMAIL</td>
                            <td>VARCHAR(255)</td>
                            <td>Customer email</td>
                            <td><span class="sensitivity-badge sensitivity-pii">SENSITIVE_PII</span></td>
                        </tr>
                        <tr>
                            <td>CUSTOMERS</td>
                            <td>SALARY</td>
                            <td>NUMBER(10,2)</td>
                            <td>Annual salary</td>
                            <td><span class="sensitivity-badge sensitivity-financial">SENSITIVE_FINANCIAL</span></td>
                        </tr>
                        <tr>
                            <td>EMPLOYEES</td>
                            <td>EMPLOYEE_ID</td>
                            <td>NUMBER(38,0)</td>
                            <td>Employee identifier</td>
                            <td><span class="sensitivity-badge sensitivity-public">PUBLIC</span></td>
                        </tr>
                        <tr>
                            <td>EMPLOYEES</td>
                            <td>MEDICAL_RECORD_NUM</td>
                            <td>VARCHAR(20)</td>
                            <td>Medical record</td>
                            <td><span class="sensitivity-badge sensitivity-phi">SENSITIVE_PHI</span></td>
                        </tr>
                        <tr>
                            <td>EMPLOYEES</td>
                            <td>DIAGNOSIS_CODE</td>
                            <td>VARCHAR(10)</td>
                            <td>ICD-10 code</td>
                            <td><span class="sensitivity-badge sensitivity-phi">SENSITIVE_PHI</span></td>
                        </tr>
                    </tbody>
                </table>
            </div>
            
            <!-- Example 3: Filtering Sensitive Data -->
            <div id="filtering" class="tab-content">
                <h2>Example 3: Filter Sensitive Columns</h2>
                <p style="margin: 20px 0; color: #666;">Focus on columns that require special handling and compliance measures.</p>
                
                <div class="code-block">
                    <span class="keyword">SELECT</span><br>
                    &nbsp;&nbsp;TABLE_NAME,<br>
                    &nbsp;&nbsp;COLUMN_NAME,<br>
                    &nbsp;&nbsp;sensitivity_type,<br>
                    &nbsp;&nbsp;<span class="keyword">CASE</span> sensitivity_type<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">WHEN</span> <span class="string">'SENSITIVE_PII'</span> <span class="keyword">THEN</span> <span class="string">'Requires encryption and access controls'</span><br>
                    &nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">WHEN</span> <span class="string">'SENSITIVE_PHI'</span> <span class="keyword">THEN</span> <span class="string">'HIPAA compliance required'</span><br>
                    &nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">WHEN</span> <span class="string">'SENSITIVE_FINANCIAL'</span> <span class="keyword">THEN</span> <span class="string">'SOX compliance may apply'</span><br>
                    &nbsp;&nbsp;<span class="keyword">END AS</span> recommended_action<br>
                    <span class="keyword">WHERE</span> sensitivity_type != <span class="string">'PUBLIC'</span>;
                </div>
                
                <h3 style="margin-top: 30px; color: #0089D0;">Sensitive Data Requiring Protection:</h3>
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>Table Name</th>
                            <th>Column Name</th>
                            <th>Sensitivity Type</th>
                            <th>Recommended Action</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>CUSTOMERS</td>
                            <td>EMAIL</td>
                            <td><span class="sensitivity-badge sensitivity-pii">SENSITIVE_PII</span></td>
                            <td>Requires encryption and access controls</td>
                        </tr>
                        <tr>
                            <td>CUSTOMERS</td>
                            <td>SALARY</td>
                            <td><span class="sensitivity-badge sensitivity-financial">SENSITIVE_FINANCIAL</span></td>
                            <td>SOX compliance may apply</td>
                        </tr>
                        <tr>
                            <td>CUSTOMERS</td>
                            <td>SSN</td>
                            <td><span class="sensitivity-badge sensitivity-pii">SENSITIVE_PII</span></td>
                            <td>Requires encryption and access controls</td>
                        </tr>
                        <tr>
                            <td>EMPLOYEES</td>
                            <td>DIAGNOSIS_CODE</td>
                            <td><span class="sensitivity-badge sensitivity-phi">SENSITIVE_PHI</span></td>
                            <td>HIPAA compliance required</td>
                        </tr>
                        <tr>
                            <td>EMPLOYEES</td>
                            <td>MEDICAL_RECORD_NUM</td>
                            <td><span class="sensitivity-badge sensitivity-phi">SENSITIVE_PHI</span></td>
                            <td>HIPAA compliance required</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            
            <!-- Example 4: Summary Reports -->
            <div id="summary" class="tab-content">
                <h2>Example 4: Summary Report by Table</h2>
                <p style="margin: 20px 0; color: #666;">Aggregate sensitivity analysis to understand risk exposure at the table level.</p>
                
                <div class="code-block">
                    <span class="keyword">SELECT</span><br>
                    &nbsp;&nbsp;TABLE_NAME,<br>
                    &nbsp;&nbsp;<span class="function">COUNT</span>(*) <span class="keyword">AS</span> total_columns,<br>
                    &nbsp;&nbsp;<span class="function">SUM</span>(<span class="keyword">CASE WHEN</span> classification = <span class="string">'SENSITIVE_PII'</span> <span class="keyword">THEN</span> 1 <span class="keyword">ELSE</span> 0 <span class="keyword">END</span>) <span class="keyword">AS</span> pii_columns,<br>
                    &nbsp;&nbsp;<span class="function">SUM</span>(<span class="keyword">CASE WHEN</span> classification = <span class="string">'SENSITIVE_PHI'</span> <span class="keyword">THEN</span> 1 <span class="keyword">ELSE</span> 0 <span class="keyword">END</span>) <span class="keyword">AS</span> phi_columns,<br>
                    &nbsp;&nbsp;<span class="function">SUM</span>(<span class="keyword">CASE WHEN</span> classification = <span class="string">'SENSITIVE_FINANCIAL'</span> <span class="keyword">THEN</span> 1 <span class="keyword">ELSE</span> 0 <span class="keyword">END</span>) <span class="keyword">AS</span> financial_columns<br>
                    <span class="keyword">FROM</span> classified_data<br>
                    <span class="keyword">GROUP BY</span> TABLE_NAME;
                </div>
                
                <h3 style="margin-top: 30px; color: #0089D0;">Table-Level Summary:</h3>
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>Table Name</th>
                            <th>Total Columns</th>
                            <th>PII Columns</th>
                            <th>PHI Columns</th>
                            <th>Financial Columns</th>
                            <th>Public Columns</th>
                            <th>Sensitivity Level</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>CUSTOMERS</td>
                            <td>4</td>
                            <td><span style="color: #ff6b6b; font-weight: bold;">2</span></td>
                            <td>0</td>
                            <td><span style="color: #4ecdc4; font-weight: bold;">1</span></td>
                            <td>1</td>
                            <td><span class="sensitivity-badge sensitivity-pii">HIGH SENSITIVITY</span></td>
                        </tr>
                        <tr>
                            <td>EMPLOYEES</td>
                            <td>3</td>
                            <td>0</td>
                            <td><span style="color: #ff9f40; font-weight: bold;">2</span></td>
                            <td>0</td>
                            <td>1</td>
                            <td><span class="sensitivity-badge sensitivity-phi">HIGH SENSITIVITY</span></td>
                        </tr>
                    </tbody>
                </table>
                
                <div class="summary-cards">
                    <div class="summary-card pii">
                        <h4>PII Columns</h4>
                        <div class="count">2</div>
                        <p>Requires encryption</p>
                    </div>
                    <div class="summary-card phi">
                        <h4>PHI Columns</h4>
                        <div class="count">2</div>
                        <p>HIPAA compliance</p>
                    </div>
                    <div class="summary-card financial">
                        <h4>Financial Columns</h4>
                        <div class="count">1</div>
                        <p>SOX compliance</p>
                    </div>
                    <div class="summary-card public">
                        <h4>Public Columns</h4>
                        <div class="count">2</div>
                        <p>Standard handling</p>
                    </div>
                </div>
            </div>
            
            <!-- Interactive Demo -->
            <div id="interactive" class="tab-content">
                <h2>Interactive Classification Demo</h2>
                <p style="margin: 20px 0; color: #666;">Try classifying your own column metadata using the AI classification engine.</p>
                
                <div class="interactive-demo">
                    <h3>Test Column Classification</h3>
                    
                    <div class="input-group">
                        <label for="demo-table">Table Name:</label>
                        <input type="text" id="demo-table" placeholder="e.g., USERS" value="USERS">
                    </div>
                    
                    <div class="input-group">
                        <label for="demo-column">Column Name:</label>
                        <input type="text" id="demo-column" placeholder="e.g., CREDIT_CARD_NUMBER" value="CREDIT_CARD_NUMBER">
                    </div>
                    
                    <div class="input-group">
                        <label for="demo-type">Data Type:</label>
                        <select id="demo-type">
                            <option value="VARCHAR(16)">VARCHAR(16)</option>
                            <option value="NUMBER(38,0)">NUMBER(38,0)</option>
                            <option value="DATE">DATE</option>
                            <option value="TIMESTAMP">TIMESTAMP</option>
                            <option value="BOOLEAN">BOOLEAN</option>
                        </select>
                    </div>
                    
                    <div class="input-group">
                        <label for="demo-comment">Column Comment:</label>
                        <input type="text" id="demo-comment" placeholder="e.g., Stores customer payment information" value="Stores customer payment information">
                    </div>
                    
                    <button class="btn-primary" onclick="classifyColumn()">
                        Classify Column
                        <span id="loading" class="loading" style="display: none;"></span>
                    </button>
                    
                    <div id="demo-result" class="result-box">
                        <h4>Classification Result:</h4>
                        <div id="result-content"></div>
                    </div>
                </div>
                
                <div class="interactive-demo" style="margin-top: 30px;">
                    <h3>Predefined Examples</h3>
                    <p>Click any example below to see how it would be classified:</p>
                    
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px; margin-top: 20px;">
                        <button class="framework-item" style="cursor: pointer; text-align: left;" onclick="testExample('SSN', 'VARCHAR(11)', 'Social Security Number')">
                            <strong>SSN</strong><br>
                            <small>VARCHAR(11) - Social Security Number</small>
                        </button>
                        <button class="framework-item" style="cursor: pointer; text-align: left;" onclick="testExample('BLOOD_TYPE', 'VARCHAR(3)', 'Patient blood type')">
                            <strong>BLOOD_TYPE</strong><br>
                            <small>VARCHAR(3) - Patient blood type</small>
                        </button>
                        <button class="framework-item" style="cursor: pointer; text-align: left;" onclick="testExample('ANNUAL_REVENUE', 'NUMBER(15,2)', 'Company annual revenue')">
                            <strong>ANNUAL_REVENUE</strong><br>
                            <small>NUMBER(15,2) - Company annual revenue</small>
                        </button>
                        <button class="framework-item" style="cursor: pointer; text-align: left;" onclick="testExample('COMPANY_NAME', 'VARCHAR(255)', 'Public company name')">
                            <strong>COMPANY_NAME</strong><br>
                            <small>VARCHAR(255) - Public company name</small>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        // Tab switching functionality
        function showTab(tabName) {
            // Hide all tab contents
            const contents = document.querySelectorAll('.tab-content');
            contents.forEach(content => {
                content.classList.remove('active');
            });
            
            // Remove active class from all tabs
            const tabs = document.querySelectorAll('.tab');
            tabs.forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Show selected tab content
            document.getElementById(tabName).classList.add('active');
            
            // Add active class to clicked tab
            event.target.classList.add('active');
        }
        
        // Workflow step highlighting
        function highlightStep(element, stepId) {
            // Remove active class from all workflow steps
            const steps = document.querySelectorAll('.workflow-step');
            steps.forEach(step => {
                step.classList.remove('active');
            });
            
            // Add active class to clicked step
            element.classList.add('active');
            
            // Show corresponding information
            showStepDetails(stepId);
        }
        
        function showStepDetails(stepId) {
            const details = {
                step1: "Extracting metadata from INFORMATION_SCHEMA.COLUMNS including table names, column names, data types, and comments.",
                step2: "Applying AI_CLASSIFY function with your custom sensitivity framework to analyze and categorize each column.",
                step3: "Filtering results to identify columns requiring special handling, encryption, or compliance measures.",
                step4: "Generating comprehensive reports showing sensitivity distribution across tables and databases."
            };
            
            // You could show these details in a tooltip or info box
            console.log(details[stepId]);
        }
        
        // Interactive demo functionality
        function classifyColumn() {
            const tableName = document.getElementById('demo-table').value;
            const columnName = document.getElementById('demo-column').value;
            const dataType = document.getElementById('demo-type').value;
            const comment = document.getElementById('demo-comment').value;
            
            // Show loading spinner
            document.getElementById('loading').style.display = 'inline-block';
            
            // Simulate AI classification (in real implementation, this would call the actual AI_CLASSIFY function)
            setTimeout(() => {
                const classification = simulateClassification(columnName, dataType, comment);
                displayResult(tableName, columnName, classification);
                document.getElementById('loading').style.display = 'none';
            }, 1500);
        }
        
        function simulateClassification(columnName, dataType, comment) {
            const text = (columnName + ' ' + comment).toLowerCase();
            
            // Simple rule-based classification for demo
            if (text.includes('ssn') || text.includes('social security') || text.includes('credit card') || 
                text.includes('email') || text.includes('phone') || text.includes('driver license')) {
                return 'SENSITIVE_PII';
            } else if (text.includes('medical') || text.includes('diagnosis') || text.includes('prescription') || 
                       text.includes('health') || text.includes('patient') || text.includes('blood')) {
                return 'SENSITIVE_PHI';
            } else if (text.includes('salary') || text.includes('compensation') || text.includes('revenue') || 
                       text.includes('balance') || text.includes('financial') || text.includes('payment')) {
                return 'SENSITIVE_FINANCIAL';
            } else {
                return 'PUBLIC';
            }
        }
        
        function displayResult(tableName, columnName, classification) {
            const resultBox = document.getElementById('demo-result');
            const resultContent = document.getElementById('result-content');
            
            const badgeClass = {
                'SENSITIVE_PII': 'sensitivity-pii',
                'SENSITIVE_PHI': 'sensitivity-phi',
                'SENSITIVE_FINANCIAL': 'sensitivity-financial',
                'PUBLIC': 'sensitivity-public'
            };
            
            const recommendations = {
                'SENSITIVE_PII': 'This column contains PII and requires encryption, access controls, and audit logging.',
                'SENSITIVE_PHI': 'This column contains PHI and must comply with HIPAA regulations. Implement strict access controls.',
                'SENSITIVE_FINANCIAL': 'This column contains financial data. Consider SOX compliance requirements and encryption.',
                'PUBLIC': 'This column contains non-sensitive data and can be handled with standard security measures.'
            };
            
            resultContent.innerHTML = `
                <table class="data-table" style="margin-top: 15px;">
                    <tr>
                        <td><strong>Table:</strong></td>
                        <td>${tableName}</td>
                    </tr>
                    <tr>
                        <td><strong>Column:</strong></td>
                        <td>${columnName}</td>
                    </tr>
                    <tr>
                        <td><strong>Classification:</strong></td>
                        <td><span class="sensitivity-badge ${badgeClass[classification]}">${classification}</span></td>
                    </tr>
                    <tr>
                        <td><strong>Recommendation:</strong></td>
                        <td>${recommendations[classification]}</td>
                    </tr>
                </table>
            `;
            
            resultBox.classList.add('show');
        }
        
        function testExample(columnName, dataType, comment) {
            document.getElementById('demo-column').value = columnName;
            document.getElementById('demo-type').value = dataType;
            document.getElementById('demo-comment').value = comment;
            classifyColumn();
        }
        
        // Add some initial animations when page loads
        window.addEventListener('load', () => {
            const steps = document.querySelectorAll('.workflow-step');
            steps.forEach((step, index) => {
                setTimeout(() => {
                    step.style.opacity = '0';
                    step.style.transform = 'translateY(20px)';
                    step.style.transition = 'all 0.5s ease';
                    
                    setTimeout(() => {
                        step.style.opacity = '1';
                        step.style.transform = 'translateY(0)';
                    }, 100);
                }, index * 200);
            });
        });
        
        // Add hover effects for table rows
        document.addEventListener('DOMContentLoaded', () => {
            const tableRows = document.querySelectorAll('.data-table tbody tr');
            tableRows.forEach(row => {
                row.addEventListener('mouseenter', function() {
                    this.style.background = '#f0f8ff';
                });
                row.addEventListener('mouseleave', function() {
                    this.style.background = '';
                });
            });
        });
    </script>
</body>
</html>